#
# Settings/Configuration for development environment.
#

# Internal Services
solr:
  user: <%= DockerSecrets.lookup(:solr_username) %>
  password: <%= DockerSecrets.lookup(:solr_password) %>
  url: <%= ENV.fetch('SOLR_URL', 'http://solr:8983') %>
fits:
  url: <%= ENV.fetch('FITS_URL', 'http://fits') %>
redis:
  url: <%= ENV.fetch('REDIS_URL', 'localhost:6379') %>
  username: <%= ENV.fetch('REDIS_SIDEKIQ_USER', 'sidekiq') %>
  password: <%= DockerSecrets.lookup(:redis_sidekiq_password) %>
chrome:
  url: <%= ENV.fetch('CHROME_URL', 'http://chrome:3000') %>
virus_check:
  skip: false
  size_threshold: 2000000000 # 2 GB

# External Services
ezid:
  default_shoulder: 'ark:/99999/fk4'
  user: apitest
  password: apitest
marmite:
  url: http://mdproc.library.upenn.edu:9292

# File Storage
minio: &minio
  access_key_id: minioadmin
  secret_access_key: minioadmin
  endpoint: <%= ENV.fetch('MINIO_URL', 'http://minio:9000') %>
  region: us-east-1
  force_path_style: true
preservation_storage:
  <<: *minio
  bucket: preservation-dev
preservation_copy_storage:
  <<: *minio
  bucket: preservation-copy-dev
derivative_storage:
  <<: *minio
  bucket: derivatives-dev
iiif_derivative_storage:
  <<: *minio
  bucket: iiif-derivatives-dev
iiif_manifest_storage:
  <<: *minio
  bucket: iiif-manifests-dev

# Bulk Import/Migration
working_storage:
  sceti_digitized:
    <<: *minio
    bucket: sceti-digitized
  ceph:
    access_key_id: fake-id
    secret_access_key: fake-key
    endpoint: https://ceph.library.upenn.edu
    region: us-east-1
    force_path_style: true
migration:
  storage: ceph
  colenda_url: https://colenda.library.upenn.edu


# Item/Asset Resource Configuration
skip_ezid_metadata_update: true
iiif:
  image_server:
    url: 'https://serverless_iiif.libary.upenn.edu'
    profile: 'http://iiif.io/api/image/2/level2.json'
  manifest:
    base_url: 'https://colenda.library.upenn.edu/catalog/'
publish:
  url: http://10.252.0.2:3000
  token: sample_token

